# ngsUtils

Several general programs are also available to manipulate intermediate files.

### Installation

To download use:

    % git clone https://github.com/mfumagalli/ngsUtils.git

To install these tools just run:

    % cd ngsUtils
    % make
    % make test

Executables are built into the main directory. If you wish to clean all binaries and intermediate files:

    % make clean

### Usage

#### Examples:

* `GetMergedGeno` - Merge genotype posterior probabilities files. Since `GetMergedGeno` needs two files as input, the classic `-infile` option is replaced by `-infiles` and takes the path of two files.

#

    % ./GetMergedGeno -infiles file1.geno file2.geno -nind 5 10 -nsites 10000 500000 -outfile out -verbose 0

* `GetSubGeno` - Select a subset of genotype posterior probabilities files.

#

    % ./GetSubGeno -infile file.geno -posfile pos_file.txt -nind 5 -nsites 10000 -len 2474 -outfile out -verbose 0

* `GetSubSfs` - Select a subset of sample allele frequency posterior probabilities files.

#

    % ./GetSubSfs -infile file.geno -posfile pos_file.txt -nind 5 -nsites 10000 -len 2474 -outfile out -isfold 0 -verbose 0

* `GetSubSim` - Select a subset of of individuals and sites from simulated data files generated by [ngsSim](https://github.com/mfumagalli/ngsSim) (.glf.gz). It extracts the first `-nsites_new` and `-nind_new` out of the original values.

#

    % ./GetSubSim -infile file.geno -nind 5 -nsites 10000 -ncat 11 -outfile out -nind_new 2 -nsites_new 5000 -check 0

* `GetSwitchedGeno` - Switch major/minor or ancestral/derived in genotype posterior probabilities files

#

    % ./GetSwitchedGeno -infile file.geno -posfile pos_file.txt -nind 5 -nsites 10000 -len 2474 -outfile out -verbose 0

* `GetSwitchedSfs` - Switch major/minor or ancestral/derived in sample allele frequency posterior probabilities files

#

    % ./GetSwitchedSfs -infile file.geno -posfile pos_file.txt -nind 5 -nsites 10000 -len 2474 -outfile out -verbose 0

#### Parameters:
All programs use a subset of these options; please check above examples.

    -infile: path to input file
    -nind: number of individuals in input file(s)
    -nsites: number of sites in input file(s)
    -posfile: text file with list of sites/lines (1-based)
    -len: length (number of lines) of posfile
    -isfold: whether the SFS is folded or not
    -ncat:
    -nind_new: number of individuals to extract (starting from the beginning)
    -nsites_new: number of sites to extract (starting from the beginning)
    -check:
    -outfile: prefix for output files
    -verbose: extra information is printed on screen
